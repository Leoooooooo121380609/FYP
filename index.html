<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link rel="stylesheet" href="css/slicy.css" />
<link rel="stylesheet" href="css/swiper.min.css" />
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/responsive.css" />

<title>cricketbattle/ Frontend</title>
    <meta charset="UTF-8">
    <script type="text/javascript" src="./web3.min.js"></script>
    <script type="text/javascript">
        window.addEventListener('load', function () {
            if (typeof web3 !== 'undefined') {
                console.log('Web3 Detected! ' + web3.currentProvider.constructor.name)
                window.web3 = new Web3(web3.currentProvider);
            }
        })




        // import CricketContractArtifact from "../../build/contracts/CricketContract.json";
        // import OwnableArtifact from "../../build/contracts/Ownable.json";
        // import SafemathArtifact from "../../build/contracts/Safemath.json";
        const App = {
          web3: null,
          account: null,
          CricketContract: null,
          start: async function() {
            const { web3 } = this;

            try {
              // Get Contract
              const networkId = await web3.eth.net.getId();
              console.log('current chain id:' + networkId);
              var address = "0x4EA703111283A744fcce23A857c4b608c82c8b46";
              var abi = [
                        {
                          "anonymous": false,
                          "inputs": [
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "owner",
                            "type": "address"
                          },
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "approved",
                            "type": "address"
                          },
                          {
                            "indexed": true,
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "Approval",
                          "type": "event"
                        },
                        {
                          "anonymous": false,
                          "inputs": [
                          {
                            "indexed": false,
                            "internalType": "uint256",
                            "name": "cricketId",
                            "type": "uint256"
                          },
                          {
                            "indexed": false,
                            "internalType": "string",
                            "name": "name",
                            "type": "string"
                          },
                          {
                            "indexed": false,
                            "internalType": "uint256",
                            "name": "dna",
                            "type": "uint256"
                          }
                          ],
                          "name": "NewCricket",
                          "type": "event"
                        },
                        {
                          "anonymous": false,
                          "inputs": [
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "previousOwner",
                            "type": "address"
                          },
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "newOwner",
                            "type": "address"
                          }
                          ],
                          "name": "OwnershipTransferred",
                          "type": "event"
                        },
                        {
                          "anonymous": false,
                          "inputs": [
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "from",
                            "type": "address"
                          },
                          {
                            "indexed": true,
                            "internalType": "address",
                            "name": "to",
                            "type": "address"
                          },
                          {
                            "indexed": true,
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "Transfer",
                          "type": "event"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "to",
                            "type": "address"
                          },
                          {
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "approve",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "cricketId",
                            "type": "uint256"
                          },
                          {
                            "internalType": "uint256",
                            "name": "targetId",
                            "type": "uint256"
                          }
                          ],
                          "name": "attack",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "owner",
                            "type": "address"
                          }
                          ],
                          "name": "balanceOf",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "balance",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "battleCount",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "bettingStake",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "name": "bettors",
                          "outputs": [
                          {
                            "internalType": "address",
                            "name": "",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "string",
                            "name": "name",
                            "type": "string"
                          }
                          ],
                          "name": "buyRandomCricket",
                          "outputs": [],
                          "stateMutability": "payable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "cricketId",
                            "type": "uint256"
                          },
                          {
                            "internalType": "uint256",
                            "name": "dna",
                            "type": "uint256"
                          }
                          ],
                          "name": "changeDna",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "cricketId",
                            "type": "uint256"
                          },
                          {
                            "internalType": "string",
                            "name": "name",
                            "type": "string"
                          }
                          ],
                          "name": "changeName",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "bettor",
                            "type": "address"
                          }
                          ],
                          "name": "checkBettorExist",
                          "outputs": [
                          {
                            "internalType": "bool",
                            "name": "",
                            "type": "bool"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "claimBet",
                          "outputs": [],
                          "stateMutability": "payable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "string",
                            "name": "name",
                            "type": "string"
                          }
                          ],
                          "name": "createRandomCricket",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "cricketCount",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "cricketPrice",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "name": "cricketToOwner",
                          "outputs": [
                          {
                            "internalType": "address",
                            "name": "",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "name": "crickets",
                          "outputs": [
                          {
                            "internalType": "string",
                            "name": "name",
                            "type": "string"
                          },
                          {
                            "internalType": "uint256",
                            "name": "dna",
                            "type": "uint256"
                          },
                          {
                            "internalType": "uint16",
                            "name": "winCount",
                            "type": "uint16"
                          },
                          {
                            "internalType": "uint16",
                            "name": "lossCount",
                            "type": "uint16"
                          },
                          {
                            "internalType": "uint256",
                            "name": "level",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "getBattleCount",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "owner",
                            "type": "address"
                          }
                          ],
                          "name": "getCricketsByOwner",
                          "outputs": [
                          {
                            "internalType": "uint256[]",
                            "name": "",
                            "type": "uint256[]"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "_mid",
                            "type": "uint256"
                          }
                          ],
                          "name": "getCricketsInfoById",
                          "outputs": [
                          {
                            "internalType": "string",
                            "name": "",
                            "type": "string"
                          },
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          },
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          },
                          {
                            "internalType": "address",
                            "name": "",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "getCricketsNum",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "owner",
                            "type": "address"
                          }
                          ],
                          "name": "getCricketsOwnerNum",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "_mid",
                            "type": "uint256"
                          }
                          ],
                          "name": "getWinnersId",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "isOwner",
                          "outputs": [
                          {
                            "internalType": "bool",
                            "name": "",
                            "type": "bool"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "cricketId",
                            "type": "uint256"
                          }
                          ],
                          "name": "levelUp",
                          "outputs": [],
                          "stateMutability": "payable",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "levelUpFee",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "owner",
                          "outputs": [
                          {
                            "internalType": "address",
                            "name": "",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "ownerOf",
                          "outputs": [
                          {
                            "internalType": "address",
                            "name": "owner",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "bettingCricketId",
                            "type": "uint256"
                          }
                          ],
                          "name": "placeBet",
                          "outputs": [],
                          "stateMutability": "payable",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "renounceOwnership",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "returnSender",
                          "outputs": [
                          {
                            "internalType": "address",
                            "name": "",
                            "type": "address"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "roundBettorCount",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "roundBettorCount_temp",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "probability",
                            "type": "uint256"
                          }
                          ],
                          "name": "setAttackVictoryProbability",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "takeOwnership",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "to",
                            "type": "address"
                          },
                          {
                            "internalType": "uint256",
                            "name": "tokenId",
                            "type": "uint256"
                          }
                          ],
                          "name": "transfer",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "address",
                            "name": "newOwner",
                            "type": "address"
                          }
                          ],
                          "name": "transferOwnership",
                          "outputs": [],
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "inputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "name": "winners",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "inputs": [],
                          "name": "winningBettorCount",
                          "outputs": [
                          {
                            "internalType": "uint256",
                            "name": "",
                            "type": "uint256"
                          }
                          ],
                          "stateMutability": "view",
                          "type": "function"
                        }
                        ];
              // const deployedNetwork = CricketContractArtifact.networks[networkId];
              this.CricketContract = new web3.eth.Contract(abi, address);
              // get accounts
              const accounts = await web3.eth.getAccounts();
              this.account = accounts[0];
              // this.mAmount();
              this.cricketList();
              this.winnerList();
              // this.vAmount();
            } catch (error) {
              console.error("Could not connect to contract or chain.");
            }
          },

          cricketList: async function() {   //Checklist for all the battle crickets
            const allNum= await this.CricketContract.methods.getCricketsNum().call(); 
            const countdiv = document.getElementById('cricketCount');
            countdiv.innerHTML = `Total number of crickets：${allNum}`; 
            const addressdiv = document.getElementById('currentAddress');
            addressdiv.innerHTML = `Current user adress：${this.account}`; 
            const ol = document.getElementById('cricketsList');
            const allNum1 = parseInt(allNum);
            console.log(allNum1);
            ol.innerHTML = '';
            for(let i=0; i<allNum1; i++) {
                const cricketInfo = await this.CricketContract.methods.getCricketsInfoById(i).call();
                const cricketName = cricketInfo[0];
                const cricketDna  = cricketInfo[1];
                const level = cricketInfo[2];
                const address = cricketInfo[3];

                ol.innerHTML += `<span class='errorh5'> <li>  Cricketid:    ${i} <br>Cricketname  :${cricketName}  <br>Cricket DNA:  ${cricketDna} <br>Cricket level:   ${level} <br>Cricketowner address：  ${address}</li> </span>`;
            }
          },
          winnerList: async function() {   //Checklist for all the battle crickets
            const battleCount = await this.CricketContract.methods.getBattleCount().call();
            const ol = document.getElementById('winners'); 
            const allNum2 = parseInt(battleCount);
            console.log(battleCount);
            ol.innerHTML = '';
            for(let i=0; i<allNum2; i++) {
                const winnerID = await this.CricketContract.methods.getWinnersId(i).call();
                //const winID = parseInt(winnerID);
                const cricketInfo = await this.CricketContract.methods.getCricketsInfoById(winnerID).call();
                const cricketName = cricketInfo[0];
              
                const address = cricketInfo[3];

                ol.innerHTML += `<span class='errorh5'> <li>  Cricketid:    ${winnerID} <br>Cricketname  :${cricketName} <br>Cricketowner address：  ${address}</li> </span>`;
            }
          },
          getFreeCricket: async function() {       //get a free cricket
            try{
              const { createRandomCricket} = this.CricketContract.methods;
              const cricketname = document.getElementById('free_Name').value;
              await  createRandomCricket(cricketname).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();
            }catch(error){
              console.error("Failed to get");
            }
          },
          buyCricket: async function() {       //buying a new cricket
            try{
              const { buyRandomCricket} = this.CricketContract.methods;
              const cricketname = document.getElementById('buy_Name').value;
              console.log(cricketname);
              console.log(Web3.utils.toWei('0.1','ether'));
              await  buyRandomCricket(cricketname).send({ from: this.account, value: Web3.utils.toWei('0.001','ether')});
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Unable to buy");
            }
          },
          changeName: async function() {       //Change the cricket name
            try{
              const { changeName} = this.CricketContract.methods;
              const id = document.getElementById('name_ID').value;
              const cricketname = document.getElementById('newName').value;
              await  changeName(id,cricketname).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          changeDna: async function() {       //changing the cricket dna
            try{
              const { changeDna} = this.CricketContract.methods;
              const id = document.getElementById('dna_ID').value;
              const idnum = parseInt(id);
              const cricketname = document.getElementById('newDna').value;
              await  changeDna(idnum,cricketname).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Unable to change");
            }
          },
          levelUp: async function() {       //Purchase to level up
            try{
              const {levelUp} = this.CricketContract.methods;
              const id = document.getElementById('levelup_ID').value;
              const idnum = parseInt(id);
              await levelUp(idnum).send({ from: this.account, value: Web3.utils.toWei('0.001','ether')});
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          attack: async function() {       //Attack the other cricket
            try{
              const {attack} = this.CricketContract.methods;
              const id1 = document.getElementById('attacker_ID').value;
              const id2 = document.getElementById('attackeder_ID').value;
              const idnum1 = parseInt(id1);
              const idnum2 = parseInt(id2);
              await attack(idnum1,idnum2).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          approve: async function() {       //Attack the other cricket
            try{
              const {approve} = this.CricketContract.methods;
              const add = document.getElementById('approveAddress').value;
              const id = document.getElementById('approveID').value;
              const idnum = parseInt(id);
              await approve(add,idnum).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          transfer: async function() {       //Attack the other cricket
            try{
              const {transfer} = this.CricketContract.methods;
              const add = document.getElementById('transferAddress').value;
              const id = document.getElementById('transferID').value;
              const idnum = parseInt(id);
              await transfer(add,idnum).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          
          takeOwnership: async function() {       //Attack the other cricket
            try{
              const {takeOwnership} = this.CricketContract.methods;
              const id = document.getElementById('takeOwnership_ID').value;
              const idnum = parseInt(id);
              await takeOwnership(idnum).send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },

          placeBet: async function() {       //placeBet
            try{
              const {placeBet} = this.CricketContract.methods;
              const bettingCricketId = document.getElementById('bettingCricketId').value;
            //  const bettingStake = document.getElementById('bettingStake').value;
              const int_id = parseInt(bettingCricketId);
            //  const int_stake = parseInt(bettingStake);
              await placeBet(int_id).send({ from: this.account, value: Web3.utils.toWei('1','ether')});
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },

          claimBet: async function() {       //claimBet
            try{
              const {claimBet} = this.CricketContract.methods;

              await claimBet().send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },

          returnBalance: async function() {       //claimBet
            try{
              const {returnBalance} = this.CricketContract.methods;

              await returnBalance().send({ from: this.account });
            //  this.mAmount();
            this.cricketList();
            this.winnerList();

            }catch(error){
              console.error("Error");
            }
          },
          

            lookupCricket: async function(){   //Search up the cricket details
              const cricketid = document.getElementById('cricket_id').value;
              const idnum = parseInt(cricketid)
              console.log(typeof(idnum));
              console.log(idnum);
              const cricketinfo = await this.CricketContract.methods.getCricketsInfoById(idnum).call();
              console.log(cricketinfo);
              const name = cricketinfo[0];
              const dna = cricketinfo[1];
              const level = cricketinfo[2];
              const address = cricketinfo[3];
              console.log(typeof(address));
              const ol = document.getElementById('cricketinfo');

              ol.innerHTML = '';
              ol.innerHTML += `<span class='errorh5'> <li>  Cricketid:    ${cricketid} <br>Cricketname  :${name}  <br>Cricket DNA:  ${dna} <br>Cricket level:   ${level} <br>Cricketowner address：  ${address}</li> </span>`;
            },
          
            lookupOwner: async function(){   //Search up the cricket details
              const owner_address = document.getElementById('owner_address').value;
              //const own_num = parseInt(cricketid)
              //console.log(typeof(own_num));
              //console.log(own_num);
              const cricketinfo = await this.CricketContract.methods.getCricketsByOwner(owner_address).call();
              console.log(cricketinfo);
              
              const ol = document.getElementById('ownerinfo');

              ol.innerHTML = '';
              ol.innerHTML += `<span class='errorh5'> <li>  Cricketid:    ${cricketinfo}  </span>`;
            },

            lookupnumCricket: async function() {   //Checklist for all the battle crickets
              const owner_address = document.getElementById('owner_address').value;
              const allNum= await this.CricketContract.methods.getCricketsOwnerNum(owner_address).call(); 
              const countdiv = document.getElementById('cricketNumCount');
              countdiv.innerHTML = `<span class='errorh5'> Total number of crickets：${allNum} </span>`; 
            },
            
            
        };

        window.App = App;
        window.addEventListener("load", function() {
          if (window.ethereum) {
            // use MetaMask's provider
            App.web3 = new Web3(window.ethereum);
            window.ethereum.enable(); // get permission to access accounts
          } else {
            console.warn(
              "No web3 detected. Falling back to http://127.0.0.1:8545. You should remove this fallback when you deploy live",
            );
            // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
            App.web3 = new Web3(
              new Web3.providers.HttpProvider("http://127.0.0.1:7545"),
            );
          }
          App.start();
        });



    </script>
</head>
<style>
  .box2 {
    float: left;
    background-color: #fff;
    width: 550px;
    height: 500px;
    overflow: auto;
  }

  .errorh5 {
    float: right;font-size: 14px;line-height: 1.5;color: #666666;

	width: calc(100% - 13px);
  }
  .errorh6 {
    float: left;font-size: 14px;line-height: 1.5;color: #666666;width: 13px;
    background-color: none;
  }
  
</style>
<body>

<div class="layout">
	<div class="fxuelst">
		<div class="flst">
			<div class="wrap">
				<form action="" method="post">
					<div class="hd wow fadeInUp"data-wow-delay="0.2s" data-wow-duration="1s">
						<h3>Cricket Fighting Game!!</h3>
						<h6>An NFT Blockchain Centric Final Year Project</h6>
					</div>
					<div class="fcrick">
						<ul>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Cricket Lists</h2></div>
								<div class="box2">
                  <h6 id="cricketCount"></h6>
                  <h5 id="currentAddress"></h5>
                    <h6>CricketLists</h6>
                    <ol id="cricketsList"></ol>
                </div>
			
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Free Cricket</h2></div>
								<input type="text" class="ftext" name="" id="free_Name" value="" placeholder="Please provide a name for your cricket "/>
								<a href="#" class="fdah" onclick="App.getFreeCricket()">Get a free cricket (Only one for each player)</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Check Cricket</h2></div>
								<input type="text" class="ftext" name="" id="cricket_id" value="" placeholder="Please insert Cricket ID"/>
								<a href="#" class="fdah" onclick="App.lookupCricket()">Check</a>
								<div class="ftlt ftrtop" ><h2>Cricket Info</h2></div>
								<div class="tet">
									<div class="t">
										<ul id="cricketinfo"></ul>
									</div>
								</div>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Buy Cricket</h2></div>
								<input type="text" class="ftext" name="" id="buy_Name" value="" placeholder="Please provide a name for your cricket"/>
								<a href="#" class="fdah" onclick="App.buyCricket()">Buy Cricket</a>
							</li>
              <li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Check Address's Crickets</h2></div>
								<input type="text" class="ftext" name="" id="owner_address" value="" placeholder="Please insert Owner Address"/>
								<a href="#" class="fdah" onclick="App.lookupOwner()">Check</a>
								<div class="ftlt ftrtop" ><h2>Address's list of Crickets</h2></div>
								<div class="tet">
									<div class="t">
										<ul id="ownerinfo"></ul>
									</div>
								</div>
							</li>
              <!--- <li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Check Number of Crickets</h2></div>
								<input type="text" class="ftext" name="" id='owner_count_address' value="" placeholder="Please insert Owner Address"/>
								<a href="#" class="fdah" onclick="App.lookupnumCricket()">Check</a>
								<div class="ftlt ftrtop" ><h2>No. of Crickets owned</h2></div>
								<div class="tet">
									<div class="t">
										<ul id="cricketNumCount"></ul>
									</div>
								</div>
							</li>  --->
						</ul>
					</div>
				</form>
			</div>
		</div>
		<div class="flst fzhi">
			<div class="wrap">
				<form action="" method="post">
					<div class="fcrick">
						<ul>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Change Cricket Name</h2></div>
								<input type="text" class="ftext" name="" id="name_ID" value="" placeholder="Please insert Cricket ID"/>
								<input type="text" class="ftext" name="" id="newName" value="" placeholder="Please provide Cricket new name"/>
								<a href="#" class="fdah" onclick="App.changeName()">Change name</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Change Cricket DNA</h2></div>
								<input type="text" class="ftext" name="" id="dna_ID" value="" placeholder="Please provide Cricket ID"/>
								<input type="text" class="ftext" name="" id="newDna" value="" placeholder="Please provice Cricket new DNA"/>
								<a href="#" class="fdah" onclick="App.changeDna()">Change DNA</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2> Level Up cricket</h2></div>
								<input type="text" class="ftext" name="" id="levelup_ID" value="" placeholder="Please provide Cricket ID"/>
								<a href="#" class="fdah" onclick="App.levelUp()"  id="levelUp">Pay</a>
							</li>
						</ul>
					</div>
				</form>
			</div>
		</div>
		<div class="flst fdzhi">
			<div class="wrap">
				<form action="" method="post">
					<div class="fcrick">
						<ul>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Cricket Battle</h2></div>
								<input type="text" class="ftext" name="" id="attacker_ID" value="" placeholder="Please provide YOUR Cricket ID"/>
								<input type="text" class="ftext" name="" id="attackeder_ID" value="" placeholder="Please provide TARGET Cricket ID"/>
								<a href="#" class="fdah" onclick="App.attack()">ATTACK</a>
							</li>
              <li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Winner List</h2></div>
                    <ol id="winners"></ol>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>PlaceBet</h2></div>
								<input type="text" class="ftext" name="" id="bettingCricketId" value="" placeholder="Please insert betting Cricket ID"/>
								<a href="#" class="fdah" onclick="App.placeBet()">PlaceBet  (1 MATIC is charged for each bet)</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>ClaimBet</h2></div>
								<a href="#" class="fdah" onclick="App.claimBet()">ClaimBet</a>
							</li>
						</ul>
					</div>
				</form>
			</div>
		</div>
		<div class="flst fghl">
			<div class="wrap">
				<form action="" method="post">
					<div class="fcrick">
						<ul>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Transfer</h2></div>
								<input type="text" class="ftext" name="" id="transferAddress" value="" placeholder="Please insert Target Address"/>
								<input type="text" class="ftext" name="" id="transferID" value="" placeholder="Please insert Cricket ID"/>
								<a href="#" class="fdah" onclick="App.transfer()">Transfer</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>Approve</h2></div>
								<input type="text" class="ftext" name="" id="approveAddress" value="" placeholder="Please insert Target Address"/>
								<input type="text" class="ftext" name="" id="approveID" value="" placeholder="Please insert Cricket ID"/>
								<a href="#" class="fdah" onclick="App.approve()" >Approve</a>
							</li>
							<li class="wow fadeInUp"data-wow-delay="0.3s" data-wow-duration="1s">
								<div class="ftlt"><h2>TakeOwnership</h2></div>
								<input type="text" class="ftext" name="" id="takeOwnership_ID" value="" 
								placeholder="Please insert Cricket ID"/>
								<a href="#" class="fdah" onclick="App.takeOwnership()">takeOwnership</a>
							</li>
						</ul>
					</div>
				</form>
			</div>
		</div>
	</div>
	
</div>

<script src="js/jquery-1.7.2.min.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/script.js"></script>
<script type="text/javascript">
	
		
</script>
</body>
</html>