{"ast":null,"code":"import Web3 from \"web3\"; // import CricketContractArtifact from \"../../build/contracts/CricketContract.json\";\n// import OwnableArtifact from \"../../build/contracts/Ownable.json\";\n// import SafemathArtifact from \"../../build/contracts/Safemath.json\";\n\nconst App = {\n  web3: null,\n  account: null,\n  CricketContract: null,\n  start: async function () {\n    const {\n      web3\n    } = this;\n\n    try {\n      // 获取合约实例\n      const networkId = await web3.eth.net.getId(); // const deployedNetwork = CricketContractArtifact.networks[networkId];\n\n      this.CricketContract = new web3.eth.Contract( //CricketContractArtifact.abi,\n      [{\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"approved\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"cricketId\",\n          \"type\": \"uint256\"\n        }, {\n          \"indexed\": false,\n          \"internalType\": \"string\",\n          \"name\": \"name\",\n          \"type\": \"string\"\n        }, {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"dna\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"NewCricket\",\n        \"type\": \"event\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"previousOwner\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"OwnershipTransferred\",\n        \"type\": \"event\"\n      }, {\n        \"anonymous\": false,\n        \"inputs\": [{\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"from\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        }, {\n          \"indexed\": true,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"approve\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"cricketId\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"targetId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"attack\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"balanceOf\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"balance\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"bettingStake\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"bettors\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"name\",\n          \"type\": \"string\"\n        }],\n        \"name\": \"buyRandomCricket\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"cricketId\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"dna\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"changeDna\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"cricketId\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"string\",\n          \"name\": \"name\",\n          \"type\": \"string\"\n        }],\n        \"name\": \"changeName\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"bettor\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"checkBettorExist\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"claimBet\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"name\",\n          \"type\": \"string\"\n        }],\n        \"name\": \"createRandomCricket\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"cricketCount\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"cricketPrice\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"cricketToOwner\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"crickets\",\n        \"outputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"name\",\n          \"type\": \"string\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"dna\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint16\",\n          \"name\": \"winCount\",\n          \"type\": \"uint16\"\n        }, {\n          \"internalType\": \"uint16\",\n          \"name\": \"lossCount\",\n          \"type\": \"uint16\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"level\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"getCricketsByOwner\",\n        \"outputs\": [{\n          \"internalType\": \"uint256[]\",\n          \"name\": \"\",\n          \"type\": \"uint256[]\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"_mid\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"getCricketsInfoById\",\n        \"outputs\": [{\n          \"internalType\": \"string\",\n          \"name\": \"\",\n          \"type\": \"string\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }, {\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"getCricketsNum\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"getCricketsOwnerNum\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"isOwner\",\n        \"outputs\": [{\n          \"internalType\": \"bool\",\n          \"name\": \"\",\n          \"type\": \"bool\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"cricketId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"levelUp\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"levelUpFee\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"owner\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"ownerOf\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"owner\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"bettingCricketId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"placeBet\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"renounceOwnership\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"returnSender\",\n        \"outputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"\",\n          \"type\": \"address\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"roundBettorCount\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"roundBettorCount_temp\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"probability\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"setAttackVictoryProbability\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"takeOwnership\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"to\",\n          \"type\": \"address\"\n        }, {\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        }],\n        \"name\": \"transfer\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [{\n          \"internalType\": \"address\",\n          \"name\": \"newOwner\",\n          \"type\": \"address\"\n        }],\n        \"name\": \"transferOwnership\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }, {\n        \"inputs\": [],\n        \"name\": \"winningBettorCount\",\n        \"outputs\": [{\n          \"internalType\": \"uint256\",\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      }], //deployedNetwork.address,\n      0x64F9C9c1a23DdcE3cE24bCAb829Ee8134ca8E048); // get accounts\n\n      const accounts = await web3.eth.getAccounts();\n      this.account = accounts[0]; //  this.mAmount();\n\n      this.cricketList(); //  this.vAmount();\n    } catch (error) {\n      console.error(\"Could not connect to contract or chain.\");\n    }\n  },\n  cricketList: async function () {\n    //Checklist for all the battle crickets\n    const allNum = await this.CricketContract.methods.getCricketsNum().call();\n    const countdiv = document.getElementById('cricketCount');\n    countdiv.innerHTML = `Total number of crickets：${allNum}`;\n    const addressdiv = document.getElementById('currentAddress');\n    addressdiv.innerHTML = `Current user adress：${this.account}`;\n    const ol = document.getElementById('cricketsList');\n    const allNum1 = parseInt(allNum);\n    console.log(allNum1);\n    ol.innerHTML = '';\n\n    for (let i = 0; i < allNum1; i++) {\n      const cricketInfo = await this.CricketContract.methods.getCricketsInfoById(i).call();\n      const cricketName = cricketInfo[0];\n      const cricketDna = cricketInfo[1];\n      const level = cricketInfo[2];\n      const address = cricketInfo[3];\n      ol.innerHTML += `<li>  Cricketid:    ${i} <br>Cricketname  :${cricketName}  <br>Cricket DNA:  ${cricketDna} <br>Cricket level:   ${level} <br>Cricketowner address：  ${address}</li>`;\n    }\n  },\n  getFreeCricket: async function () {\n    //get a free cricket\n    try {\n      const {\n        createRandomCricket\n      } = this.CricketContract.methods;\n      const cricketname = document.getElementById('free_Name').value;\n      await createRandomCricket(cricketname).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Failed to get\");\n    }\n  },\n  buyCricket: async function () {\n    //buying a new cricket\n    try {\n      const {\n        buyRandomCricket\n      } = this.CricketContract.methods;\n      const cricketname = document.getElementById('buy_Name').value;\n      console.log(cricketname);\n      console.log(Web3.utils.toWei('0.1', 'ether'));\n      await buyRandomCricket(cricketname).send({\n        from: this.account,\n        value: Web3.utils.toWei('0.001', 'ether')\n      });\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Unable to buy\");\n    }\n  },\n  changeName: async function () {\n    //Change the cricket name\n    try {\n      const {\n        changeName\n      } = this.CricketContract.methods;\n      const id = document.getElementById('name_ID').value;\n      const cricketname = document.getElementById('newName').value;\n      await changeName(id, cricketname).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  changeDna: async function () {\n    //changing the cricket dna\n    try {\n      const {\n        changeDna\n      } = this.CricketContract.methods;\n      const id = document.getElementById('dna_ID').value;\n      const idnum = parseInt(id);\n      const cricketname = document.getElementById('newDna').value;\n      await changeDna(idnum, cricketname).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Unable to change\");\n    }\n  },\n  levelUp: async function () {\n    //Purchase to level up\n    try {\n      const {\n        levelUp\n      } = this.CricketContract.methods;\n      const id = document.getElementById('levelup_ID').value;\n      const idnum = parseInt(id);\n      await levelUp(idnum).send({\n        from: this.account,\n        value: Web3.utils.toWei('0.001', 'ether')\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  attack: async function () {\n    //Attack the other cricket\n    try {\n      const {\n        attack\n      } = this.CricketContract.methods;\n      const id1 = document.getElementById('attacker_ID').value;\n      const id2 = document.getElementById('attackeder_ID').value;\n      const idnum1 = parseInt(id1);\n      const idnum2 = parseInt(id2);\n      await attack(idnum1, idnum2).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  approve: async function () {\n    //Attack the other cricket\n    try {\n      const {\n        approve\n      } = this.CricketContract.methods;\n      const add = document.getElementById('approveAddress').value;\n      const id = document.getElementById('approveID').value;\n      const idnum = parseInt(id);\n      await approve(add, idnum).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  transfer: async function () {\n    //Attack the other cricket\n    try {\n      const {\n        transfer\n      } = this.CricketContract.methods;\n      const add = document.getElementById('transferAddress').value;\n      const id = document.getElementById('transferID').value;\n      const idnum = parseInt(id);\n      await transfer(add, idnum).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  takeOwnership: async function () {\n    //Attack the other cricket\n    try {\n      const {\n        takeOwnership\n      } = this.CricketContract.methods;\n      const id = document.getElementById('takeOwnership_ID').value;\n      const idnum = parseInt(id);\n      await takeOwnership(idnum).send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  placeBet: async function () {\n    //placeBet\n    try {\n      const {\n        placeBet\n      } = this.CricketContract.methods;\n      const bettingCricketId = document.getElementById('bettingCricketId').value; //  const bettingStake = document.getElementById('bettingStake').value;\n\n      const int_id = parseInt(bettingCricketId); //  const int_stake = parseInt(bettingStake);\n\n      await placeBet(int_id).send({\n        from: this.account,\n        value: Web3.utils.toWei('1', 'ether')\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  claimBet: async function () {\n    //claimBet\n    try {\n      const {\n        claimBet\n      } = this.CricketContract.methods;\n      await claimBet().send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  returnBalance: async function () {\n    //claimBet\n    try {\n      const {\n        returnBalance\n      } = this.CricketContract.methods;\n      await returnBalance().send({\n        from: this.account\n      }); //  this.mAmount();\n\n      this.cricketList();\n    } catch (error) {\n      console.error(\"Error\");\n    }\n  },\n  //    getFreeCricket: async function() {     //领取免费僵尸 \n  //     const cockname = document.getElementById('free_Name').value;\n  //     console.log(cockname);\n  //     await this.CockContract.methods.createRandomCock(cockname).call();\n  // },\n  //     buyCock: async function() {     //买僵尸\n  //       const cockname = document.getElementById('free_Name').value;\n  //       console.log(cockname);\n  //       await this.CockContract.methods.createRandomCricket(cricketname).call();\n  //  },\n  lookupCricket: async function () {\n    //Search up the cricket details\n    const cricketid = document.getElementById('cricket_id').value;\n    const idnum = parseInt(cricketid);\n    console.log(typeof idnum);\n    console.log(idnum);\n    const cricketinfo = await this.CricketContract.methods.getCricketsInfoById(idnum).call();\n    console.log(cricketinfo);\n    const name = cricketinfo[0];\n    const dna = cricketinfo[1];\n    const level = cricketinfo[2];\n    const address = cricketinfo[3];\n    console.log(typeof address);\n    const ol = document.getElementById('cricketinfo');\n    ol.innerHTML = '';\n    ol.innerHTML += `<li>  ${cricketid}  |  ${name}  |  ${dna}  |  ${level} |  ${address} </li>`;\n  } // vAmount: async function() {   //查询视频信息\n  //     const count2 = await this.newcontract.methods.vAmount().call();  \n  //     const countDiv2 = document.getElementById('count2');\n  //     countDiv2.innerHTML = count2; \n  //     const ol2 = document.getElementById('videos');\n  //     ol2.innerHTML = '';\n  //     let j=0;\n  //     for(j=1; j<=count2; j++) {\n  //     const video  = await this.newcontract.methods.getVideoAllById(j).call();\n  //     console.log(video);\n  //     const addr = video[0];\n  //     const author = video[1];\n  //     const date = video[2];\n  //     const moniterid = video[3]\n  //     const ol = document.getElementById('videos');\n  //     ol.innerHTML += `<li>  ${addr}  |  ${author}  |  ${date}  |  ${moniterid}  </li>`;\n  //      }\n  //     },\n  // postMoniter: async function() {       //上传监控信息\n  //   try{\n  //     const {postMoniter} = this.newcontract.methods;\n  //     const location = document.getElementById('location').value;\n  //     const coord= document.getElementById('coord').value;\n  //     const brand = document.getElementById('brand').value;\n  //     await postMoniter(location,coord,brand).send({ from: this.account });\n  //     this.mAmount();\n  //   }catch(error){\n  //     console.error(\"不能上传监控数据\");\n  //   }\n  // },\n  // postVideo: async function() {       //上传监控信息\n  //   try{\n  //     const {postVideo} = this.newcontract.methods;\n  //     const addr = document.getElementById('addr').value;\n  //     const moniterid = document.getElementById('moniterid').value;\n  //     const moniteridint = parseInt(moniterid);\n  //     await postVideo(addr,moniteridint).send({ from: this.account });\n  //     this.vAmount();\n  //   }catch(error){\n  //     console.error(\"不能上传视频数据\");\n  //   }\n  // },\n  // getMonAllById: async function() {\n  //       const moniterid = document.getElementById('inquireMoniter').value;\n  //       const moniteridint = parseInt(moniterid);\n  //       console.log(moniteridint);\n  //       const moniter  = await this.newcontract.methods.getMonAllById(moniteridint).call();\n  //       const location = moniter[0];\n  //       const coord = moniter[1];\n  //       const brand = moniter[2];\n  //       const ul = document.getElementById('moniterAnswer');\n  //       ul.innerHTML = '';\n  //       ul.innerHTML +=  `<li>监控地区:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp${location}</li>`;  \n  //       ul.innerHTML +=  `<li>监控坐标:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp${coord}</li>`; \n  //       ul.innerHTML +=  `<li>监控设备信息:&nbsp&nbsp${brand}</li>`; \n  // },\n  //   getVideoAllById: async function() {\n  //       const videoid = document.getElementById('inquireVideo').value;\n  //       const videoint = parseInt(videoid);\n  //       console.log(videoint);\n  //       const video  = await this.newcontract.methods.getVideoAllById(videoint).call();\n  //       const addr = video[0];\n  //       const author= video[1];\n  //       const date =video[2];\n  //       const moniterid =video[3];\n  //       const ul = document.getElementById('videoAnswer');\n  //       ul.innerHTML = '';\n  //       ul.innerHTML +=  `<li>视频地址:&nbsp&nbsp&nbsp${addr}</li>`;  \n  //       ul.innerHTML +=  `<li>上传者:&nbsp&nbsp${author}</li>`; \n  //       ul.innerHTML +=  `<li>上传日期:&nbsp&nbsp${date}</li>`; \n  //       ul.innerHTML +=  `<li>对应监控ID:&nbsp&nbsp${moniterid}</li>`; \n  //   }\n\n};\nwindow.App = App;\nwindow.addEventListener(\"load\", function () {\n  if (window.ethereum) {\n    // use MetaMask's provider\n    App.web3 = new Web3(window.ethereum);\n    window.ethereum.enable(); // get permission to access accounts\n  } else {\n    console.warn(\"No web3 detected. Falling back to http://127.0.0.1:8545. You should remove this fallback when you deploy live\"); // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n\n    App.web3 = new Web3(new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\"));\n  }\n\n  App.start();\n});","map":{"version":3,"sources":["/Users/liuyuxiang/Downloads/FYP/React/cricket-game/src/App.js"],"names":["Web3","App","web3","account","CricketContract","start","networkId","eth","net","getId","Contract","accounts","getAccounts","cricketList","error","console","allNum","methods","getCricketsNum","call","countdiv","document","getElementById","innerHTML","addressdiv","ol","allNum1","parseInt","log","i","cricketInfo","getCricketsInfoById","cricketName","cricketDna","level","address","getFreeCricket","createRandomCricket","cricketname","value","send","from","buyCricket","buyRandomCricket","utils","toWei","changeName","id","changeDna","idnum","levelUp","attack","id1","id2","idnum1","idnum2","approve","add","transfer","takeOwnership","placeBet","bettingCricketId","int_id","claimBet","returnBalance","lookupCricket","cricketid","cricketinfo","name","dna","window","addEventListener","ethereum","enable","warn","providers","HttpProvider"],"mappings":"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SAAH,IAAiB,SAAQ2C,SAAU,QAAOE,IAAK,QAAOC,GAAI,QAAOnC,KAAM,OAAMC,OAAQ,QAArF;AACD,GAr2BO,CAu2BV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAn7BY,CAAZ;AAs7BAmC,MAAM,CAACrE,GAAP,GAAaA,GAAb;AACAqE,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzC,MAAID,MAAM,CAACE,QAAX,EAAqB;AACnB;AACAvE,IAAAA,GAAG,CAACC,IAAJ,GAAW,IAAIF,IAAJ,CAASsE,MAAM,CAACE,QAAhB,CAAX;AACAF,IAAAA,MAAM,CAACE,QAAP,CAAgBC,MAAhB,GAHmB,CAGO;AAC3B,GAJD,MAIO;AACL1D,IAAAA,OAAO,CAAC2D,IAAR,CACE,+GADF,EADK,CAIL;;AACAzE,IAAAA,GAAG,CAACC,IAAJ,GAAW,IAAIF,IAAJ,CACT,IAAIA,IAAI,CAAC2E,SAAL,CAAeC,YAAnB,CAAgC,uBAAhC,CADS,CAAX;AAGD;;AACD3E,EAAAA,GAAG,CAACI,KAAJ;AACD,CAfD","sourcesContent":["import Web3 from \"web3\";\n// import CricketContractArtifact from \"../../build/contracts/CricketContract.json\";\n// import OwnableArtifact from \"../../build/contracts/Ownable.json\";\n// import SafemathArtifact from \"../../build/contracts/Safemath.json\";\nconst App = {\n  web3: null,\n  account: null,\n  CricketContract: null,\n  start: async function() {\n    const { web3 } = this;\n\n    try {\n      // 获取合约实例\n      const networkId = await web3.eth.net.getId();\n      // const deployedNetwork = CricketContractArtifact.networks[networkId];\n      this.CricketContract = new web3.eth.Contract(\n        //CricketContractArtifact.abi,\n        [\n          {\n            \"anonymous\": false,\n            \"inputs\": [\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n              },\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"approved\",\n                \"type\": \"address\"\n              },\n              {\n                \"indexed\": true,\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"Approval\",\n            \"type\": \"event\"\n          },\n          {\n            \"anonymous\": false,\n            \"inputs\": [\n              {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"cricketId\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"name\",\n                \"type\": \"string\"\n              },\n              {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"dna\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"NewCricket\",\n            \"type\": \"event\"\n          },\n          {\n            \"anonymous\": false,\n            \"inputs\": [\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"previousOwner\",\n                \"type\": \"address\"\n              },\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"newOwner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"OwnershipTransferred\",\n            \"type\": \"event\"\n          },\n          {\n            \"anonymous\": false,\n            \"inputs\": [\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"from\",\n                \"type\": \"address\"\n              },\n              {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n              },\n              {\n                \"indexed\": true,\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"Transfer\",\n            \"type\": \"event\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"approve\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"cricketId\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"targetId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"attack\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"balanceOf\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"balance\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"bettingStake\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"bettors\",\n            \"outputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"string\",\n                \"name\": \"name\",\n                \"type\": \"string\"\n              }\n            ],\n            \"name\": \"buyRandomCricket\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"cricketId\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"dna\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"changeDna\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"cricketId\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"string\",\n                \"name\": \"name\",\n                \"type\": \"string\"\n              }\n            ],\n            \"name\": \"changeName\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"bettor\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"checkBettorExist\",\n            \"outputs\": [\n              {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"claimBet\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"string\",\n                \"name\": \"name\",\n                \"type\": \"string\"\n              }\n            ],\n            \"name\": \"createRandomCricket\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"cricketCount\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"cricketPrice\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"cricketToOwner\",\n            \"outputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"crickets\",\n            \"outputs\": [\n              {\n                \"internalType\": \"string\",\n                \"name\": \"name\",\n                \"type\": \"string\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"dna\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint16\",\n                \"name\": \"winCount\",\n                \"type\": \"uint16\"\n              },\n              {\n                \"internalType\": \"uint16\",\n                \"name\": \"lossCount\",\n                \"type\": \"uint16\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"level\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"getCricketsByOwner\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256[]\",\n                \"name\": \"\",\n                \"type\": \"uint256[]\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"_mid\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"getCricketsInfoById\",\n            \"outputs\": [\n              {\n                \"internalType\": \"string\",\n                \"name\": \"\",\n                \"type\": \"string\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"getCricketsNum\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"getCricketsOwnerNum\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"isOwner\",\n            \"outputs\": [\n              {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"cricketId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"levelUp\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"levelUpFee\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"owner\",\n            \"outputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"ownerOf\",\n            \"outputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"bettingCricketId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"placeBet\",\n            \"outputs\": [],\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"renounceOwnership\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"returnSender\",\n            \"outputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"roundBettorCount\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"roundBettorCount_temp\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"probability\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"setAttackVictoryProbability\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"takeOwnership\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"tokenId\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"name\": \"transfer\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [\n              {\n                \"internalType\": \"address\",\n                \"name\": \"newOwner\",\n                \"type\": \"address\"\n              }\n            ],\n            \"name\": \"transferOwnership\",\n            \"outputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\"\n          },\n          {\n            \"inputs\": [],\n            \"name\": \"winningBettorCount\",\n            \"outputs\": [\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n          }\n        ],\n        //deployedNetwork.address,\n        0x64F9C9c1a23DdcE3cE24bCAb829Ee8134ca8E048,\n      );\n      // get accounts\n      const accounts = await web3.eth.getAccounts();\n      this.account = accounts[0];\n    //  this.mAmount();\n      this.cricketList();\n    //  this.vAmount();\n    } catch (error) {\n      console.error(\"Could not connect to contract or chain.\");\n    }\n  },\n\n  cricketList: async function() {   //Checklist for all the battle crickets\n    const allNum= await this.CricketContract.methods.getCricketsNum().call(); \n    const countdiv = document.getElementById('cricketCount');\n    countdiv.innerHTML = `Total number of crickets：${allNum}`; \n    const addressdiv = document.getElementById('currentAddress');\n    addressdiv.innerHTML = `Current user adress：${this.account}`; \n    const ol = document.getElementById('cricketsList');\n    const allNum1 = parseInt(allNum);\n    console.log(allNum1);\n    ol.innerHTML = '';\n    for(let i=0; i<allNum1; i++) {\n        const cricketInfo = await this.CricketContract.methods.getCricketsInfoById(i).call();\n        const cricketName = cricketInfo[0];\n        const cricketDna  = cricketInfo[1];\n        const level = cricketInfo[2];\n        const address = cricketInfo[3];\n\n        ol.innerHTML += `<li>  Cricketid:    ${i} <br>Cricketname  :${cricketName}  <br>Cricket DNA:  ${cricketDna} <br>Cricket level:   ${level} <br>Cricketowner address：  ${address}</li>`;\n    }\n  },\n  getFreeCricket: async function() {       //get a free cricket\n    try{\n      const { createRandomCricket} = this.CricketContract.methods;\n      const cricketname = document.getElementById('free_Name').value;\n      await  createRandomCricket(cricketname).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Failed to get\");\n    }\n  },\n  buyCricket: async function() {       //buying a new cricket\n    try{\n      const { buyRandomCricket} = this.CricketContract.methods;\n      const cricketname = document.getElementById('buy_Name').value;\n      console.log(cricketname);\n      console.log(Web3.utils.toWei('0.1','ether'));\n      await  buyRandomCricket(cricketname).send({ from: this.account, value: Web3.utils.toWei('0.001','ether')});\n    this.cricketList();\n    }catch(error){\n      console.error(\"Unable to buy\");\n    }\n  },\n  changeName: async function() {       //Change the cricket name\n    try{\n      const { changeName} = this.CricketContract.methods;\n      const id = document.getElementById('name_ID').value;\n      const cricketname = document.getElementById('newName').value;\n      await  changeName(id,cricketname).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  changeDna: async function() {       //changing the cricket dna\n    try{\n      const { changeDna} = this.CricketContract.methods;\n      const id = document.getElementById('dna_ID').value;\n      const idnum = parseInt(id);\n      const cricketname = document.getElementById('newDna').value;\n      await  changeDna(idnum,cricketname).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Unable to change\");\n    }\n  },\n  levelUp: async function() {       //Purchase to level up\n    try{\n      const {levelUp} = this.CricketContract.methods;\n      const id = document.getElementById('levelup_ID').value;\n      const idnum = parseInt(id);\n      await levelUp(idnum).send({ from: this.account, value: Web3.utils.toWei('0.001','ether')});\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  attack: async function() {       //Attack the other cricket\n    try{\n      const {attack} = this.CricketContract.methods;\n      const id1 = document.getElementById('attacker_ID').value;\n      const id2 = document.getElementById('attackeder_ID').value;\n      const idnum1 = parseInt(id1);\n      const idnum2 = parseInt(id2);\n      await attack(idnum1,idnum2).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  approve: async function() {       //Attack the other cricket\n    try{\n      const {approve} = this.CricketContract.methods;\n      const add = document.getElementById('approveAddress').value;\n      const id = document.getElementById('approveID').value;\n      const idnum = parseInt(id);\n      await approve(add,idnum).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  transfer: async function() {       //Attack the other cricket\n    try{\n      const {transfer} = this.CricketContract.methods;\n      const add = document.getElementById('transferAddress').value;\n      const id = document.getElementById('transferID').value;\n      const idnum = parseInt(id);\n      await transfer(add,idnum).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  \n  takeOwnership: async function() {       //Attack the other cricket\n    try{\n      const {takeOwnership} = this.CricketContract.methods;\n      const id = document.getElementById('takeOwnership_ID').value;\n      const idnum = parseInt(id);\n      await takeOwnership(idnum).send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n\n  placeBet: async function() {       //placeBet\n    try{\n      const {placeBet} = this.CricketContract.methods;\n      const bettingCricketId = document.getElementById('bettingCricketId').value;\n    //  const bettingStake = document.getElementById('bettingStake').value;\n      const int_id = parseInt(bettingCricketId);\n    //  const int_stake = parseInt(bettingStake);\n      await placeBet(int_id).send({ from: this.account, value: Web3.utils.toWei('1','ether')});\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n\n  claimBet: async function() {       //claimBet\n    try{\n      const {claimBet} = this.CricketContract.methods;\n\n      await claimBet().send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n\n  returnBalance: async function() {       //claimBet\n    try{\n      const {returnBalance} = this.CricketContract.methods;\n\n      await returnBalance().send({ from: this.account });\n    //  this.mAmount();\n    this.cricketList();\n    }catch(error){\n      console.error(\"Error\");\n    }\n  },\n  \n//    getFreeCricket: async function() {     //领取免费僵尸 \n    \n//     const cockname = document.getElementById('free_Name').value;\n//     console.log(cockname);\n//     await this.CockContract.methods.createRandomCock(cockname).call();\n   \n// },\n//     buyCock: async function() {     //买僵尸\n    \n//       const cockname = document.getElementById('free_Name').value;\n//       console.log(cockname);\n//       await this.CockContract.methods.createRandomCricket(cricketname).call();\n//  },\n    lookupCricket: async function(){   //Search up the cricket details\n      const cricketid = document.getElementById('cricket_id').value;\n      const idnum = parseInt(cricketid)\n      console.log(typeof(idnum));\n      console.log(idnum);\n      const cricketinfo = await this.CricketContract.methods.getCricketsInfoById(idnum).call();\n      console.log(cricketinfo);\n      const name = cricketinfo[0];\n      const dna = cricketinfo[1];\n      const level = cricketinfo[2];\n      const address = cricketinfo[3];\n      console.log(typeof(address));\n      const ol = document.getElementById('cricketinfo');\n\n      ol.innerHTML = '';\n      ol.innerHTML += `<li>  ${cricketid}  |  ${name}  |  ${dna}  |  ${level} |  ${address} </li>`;\n    },\n\n  // vAmount: async function() {   //查询视频信息\n  //     const count2 = await this.newcontract.methods.vAmount().call();  \n  //     const countDiv2 = document.getElementById('count2');\n  //     countDiv2.innerHTML = count2; \n  //     const ol2 = document.getElementById('videos');\n  //     ol2.innerHTML = '';\n  //     let j=0;\n  //     for(j=1; j<=count2; j++) {\n  //     const video  = await this.newcontract.methods.getVideoAllById(j).call();\n  //     console.log(video);\n  //     const addr = video[0];\n  //     const author = video[1];\n  //     const date = video[2];\n  //     const moniterid = video[3]\n  //     const ol = document.getElementById('videos');\n  //     ol.innerHTML += `<li>  ${addr}  |  ${author}  |  ${date}  |  ${moniterid}  </li>`;\n  //      }\n  //     },\n  \n\n  // postMoniter: async function() {       //上传监控信息\n  //   try{\n  //     const {postMoniter} = this.newcontract.methods;\n  //     const location = document.getElementById('location').value;\n  //     const coord= document.getElementById('coord').value;\n  //     const brand = document.getElementById('brand').value;\n  //     await postMoniter(location,coord,brand).send({ from: this.account });\n  //     this.mAmount();\n  //   }catch(error){\n  //     console.error(\"不能上传监控数据\");\n  //   }\n  // },\n\n  // postVideo: async function() {       //上传监控信息\n  //   try{\n  //     const {postVideo} = this.newcontract.methods;\n  //     const addr = document.getElementById('addr').value;\n  //     const moniterid = document.getElementById('moniterid').value;\n  //     const moniteridint = parseInt(moniterid);\n  //     await postVideo(addr,moniteridint).send({ from: this.account });\n  //     this.vAmount();\n  //   }catch(error){\n  //     console.error(\"不能上传视频数据\");\n  //   }\n  // },\n  // getMonAllById: async function() {\n  //       const moniterid = document.getElementById('inquireMoniter').value;\n  //       const moniteridint = parseInt(moniterid);\n  //       console.log(moniteridint);\n  //       const moniter  = await this.newcontract.methods.getMonAllById(moniteridint).call();\n  //       const location = moniter[0];\n  //       const coord = moniter[1];\n  //       const brand = moniter[2];\n  //       const ul = document.getElementById('moniterAnswer');\n  //       ul.innerHTML = '';\n  //       ul.innerHTML +=  `<li>监控地区:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp${location}</li>`;  \n  //       ul.innerHTML +=  `<li>监控坐标:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp${coord}</li>`; \n  //       ul.innerHTML +=  `<li>监控设备信息:&nbsp&nbsp${brand}</li>`; \n  // },\n//   getVideoAllById: async function() {\n   \n//       const videoid = document.getElementById('inquireVideo').value;\n//       const videoint = parseInt(videoid);\n//       console.log(videoint);\n//       const video  = await this.newcontract.methods.getVideoAllById(videoint).call();\n//       const addr = video[0];\n//       const author= video[1];\n//       const date =video[2];\n//       const moniterid =video[3];\n//       const ul = document.getElementById('videoAnswer');\n//       ul.innerHTML = '';\n//       ul.innerHTML +=  `<li>视频地址:&nbsp&nbsp&nbsp${addr}</li>`;  \n//       ul.innerHTML +=  `<li>上传者:&nbsp&nbsp${author}</li>`; \n//       ul.innerHTML +=  `<li>上传日期:&nbsp&nbsp${date}</li>`; \n//       ul.innerHTML +=  `<li>对应监控ID:&nbsp&nbsp${moniterid}</li>`; \n\n//   }\n };\n\nwindow.App = App;\nwindow.addEventListener(\"load\", function() {\n  if (window.ethereum) {\n    // use MetaMask's provider\n    App.web3 = new Web3(window.ethereum);\n    window.ethereum.enable(); // get permission to access accounts\n  } else {\n    console.warn(\n      \"No web3 detected. Falling back to http://127.0.0.1:8545. You should remove this fallback when you deploy live\",\n    );\n    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n    App.web3 = new Web3(\n      new Web3.providers.HttpProvider(\"http://127.0.0.1:7545\"),\n    );\n  }\n  App.start();\n});\n"]},"metadata":{},"sourceType":"module"}